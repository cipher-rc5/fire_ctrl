# ===== Required =====
PORT=8787
HOST=0.0.0.0
# Comma-separated browser origins allowed by CORS (strict default: empty)
# CORS_ALLOW_ORIGINS=http://localhost:3000,https://app.example.com

# Set to true only if you have Supabase configured; false bypasses auth (default for self-hosting)
USE_DB_AUTHENTICATION=false
ALLOW_LOCAL_WEBHOOKS=false

# ===== AI / LLM =====

# OpenAI (or any compatible endpoint â€” Groq, LMStudio, etc.)
# OPENAI_API_KEY=sk-...
OPENAI_BASE_URL=https://api.openai.com/v1
MODEL_NAME=gpt-4o-mini
MODEL_EMBEDDING_NAME=
LLM_TIMEOUT_SECONDS=120
LLM_MAX_RETRIES=3
LLM_MAX_INPUT_CHARS=24000

# Groq example:
# OPENAI_BASE_URL=https://api.groq.com/openai/v1
# OPENAI_API_KEY=gsk_...
# MODEL_NAME=llama-3.3-70b-versatile

# Ollama example:
# OLLAMA_BASE_URL=http://localhost:11434/v1
# MODEL_NAME=llama3

# ===== Database (PostgreSQL / TimescaleDB) =====
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=firecrawl
POSTGRES_USER=firecrawl
POSTGRES_PASSWORD=firecrawl_password
DATABASE_MAX_CONNECTIONS=20

# ===== Redis =====
REDIS_URL=redis://localhost:6379
REDIS_RATE_LIMIT_URL=redis://localhost:6379

# ===== RabbitMQ =====
NUQ_RABBITMQ_URL=amqp://localhost:5672

# ===== Worker =====
NUM_WORKERS_PER_QUEUE=8
MAX_CONCURRENT_JOBS=5
WORKER_JOB_TIMEOUT_SECONDS=300
WORKER_MAX_STALLS=3

# ===== Crawler =====
CRAWLER_MAX_DEPTH=10
CRAWLER_MAX_PAGES=1000
CRAWL_CONCURRENT_REQUESTS=10
CRAWLER_REQUEST_TIMEOUT_SECONDS=30
CRAWLER_USER_AGENT="FirecrawlBot/1.0 (+https://firecrawl.dev/bot)"
CRAWLER_RESPECT_ROBOTS_TXT=true
BROWSER_POOL_SIZE=5
# PLAYWRIGHT_MICROSERVICE_URL=

# ===== Auth =====
# Static API key for local testing (no Supabase required)
# TEST_API_KEY=your-secret-key
# Key protecting the queue admin panel
BULL_AUTH_KEY=CHANGEME

# ===== Proxy (optional) =====
# PROXY_SERVER=http://proxy:port
# PROXY_USERNAME=user
# PROXY_PASSWORD=pass

# ===== Search (optional) =====
# Use SearXNG instead of Google SERP scraping
# SEARXNG_ENDPOINT=http://your.searxng.server
# SEARXNG_ENGINES=
# SEARXNG_CATEGORIES=

# ===== Resource limits =====
MAX_CPU=0.8
MAX_RAM=0.8

# ===== Webhooks =====
# Set true only for local dev webhook targets
# ALLOW_LOCAL_WEBHOOKS=false

# ===== Logging =====
RUST_LOG=info,fire_ctrl=debug
# Set LOG_FORMAT=json for machine-readable structured output (e.g. in production with a log aggregator)
# LOG_FORMAT=json
